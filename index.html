<!DOCTYPE html>
<html lang="nb-NO">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHAVI | FOR DELING AV ELEKTISKE KJØRETØY</title>
    <link rel="stylesheet" href="header.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin=""/>
    <style>
        #map{
            height: 580px;
        }
    </style>
    <link rel="stylesheet" href="main.css">
</head>
<body>
<div id="nav">
	<header>
	
        <img class="shavi-logo" src="images/SHAVI_LOGO.png">
        <h1><a href="index.html">SHAVI</a></h1>
        
            <nav>
                <ul>
                    <li><a href="index.html">Forside</a></li>
                    <li class="drop">
                        <a href="javascript:void(0)">Utlånsteder <div id="pil"></div></a>  <!-- javascript gjør at utlånsteder ikke er en link, div er for å kunne lage nedover pil med CSS -->
                        <div class="dropned"> <!-- Drop ned meny -->
                            <a href="utlansteder.html">Oslo</a>
                            <a href="utlansteder.html">Bergen</a>
                            <a href="utlansteder.html">Førde</a>
                        </div> 
                    </li>
                    <li><a href="priser.html">Priser</a></li>
                    <li><a href=".html">Om oss</a></li>
                    <a href="javascript:void(0)" id="login">Log in</a>
                </ul>
                
                
            </nav>
        
        </header>
</div>
    <main>
        <section id="brief">
            <h2>SHAVI – FOR DELING AV ELEKTISKE KJØRETØY</h2>
                <div>Med tjenestene våre kan du holde deg oppdatert på lokasjonene for våre utlånsteder, samt kjøretøy og utstyr tilgjengelig der.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Commodi facere praesentium, ullam aliquid natus est debitis, porro impedit quasi esse ea at molestias in magni libero minima unde! Reiciendis, dignissimos!
            </div>
            <div>
                <img src="https://via.placeholder.com/400x200" alt="">
            </div>
        </section>
        <div>
            <label for="select-area">Velg område</label>
            <select name="select-area" id="select-area" >
                <option value="all">All</option>
            </select>
            <div id="map"></div>
        </div>
        <section>
            <h2>Våre biler og båter</h2>
            <div>
                <a href="biler.html">
                    <div>
                        <h3>TESLA Model 3 (TESLA-1)</h3>
                        <img src="images/tesla-s.jpeg" alt="Tesla model S" width="400">
                    </div>
                </a>
                <a href="bater.html">
                    <div>
                        <h3>Hydrolift X-22 (HYDRO-1)<br>med Evoy Galeforce Outboard (EVOY-1)</h3>
                        <img src="images/X-22.png" alt="Hydrolift X-22 (HYDRO-1)" width="400">
                    </div>
                </a>
            </div>
        </section>
    </main>
    <footer>
        <div>
            <h1>SHAVI</h1>
            <span>Tlf: </span><a href="tel:+475555555">+475555555</a>
            <p><a href="mailto:info@shavi.com">info@shavi.com</a></p>
            <p>Gata 01, 6800 <br>Førde</p>
        </div>
        <div class="footer-links">
            <nav>
                <ul>
                    <li><a href="priser.html">Priser</a></li>
                    <li><a href="utlansteder.html">Utlånsteder</a></li>
                    <li><a href="biler.html">Biler</a></li>
                    <li><a href="bater.html">Båter</a></li>
                </ul>
                <ul>
                    <li><a href="">Om oss</a></li>
                    <li><a href="">Kontakt</a></li>
                </ul>
            </nav>
            <div class="footer-social">
                <a href=""><img src="images/facebook.png" width="30" alt="facebook"></a>
                <a href=""><img src="images/instagram.png" width="30" alt="instagram"></a>
            </div>
            <p>Opphavsrett SHAVI &copy; 2021</p>
        </div>
    </footer>
    <script src="js/stations.js"></script>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>
    <script>
        var map = L.map('map').setView([60.4, 8.4], 7);
        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
            minZoom: 7,
            id: 'mapbox/streets-v11',
            tileSize: 512,
            zoomOffset: -1,
            bounds: [[62.493362, 3.403816],[58.567747, 15.164794]],
            accessToken: 'pk.eyJ1IjoicmFuYTE5MjYiLCJhIjoiY2l1aWJudGxpMDA1eTJ1bGwwYnl1bGVnNiJ9.gy_wUY3u3q76rIpfICdfRQ'
        }).addTo(map);
        map.setMaxBounds(map.getBounds());

        map.scrollWheelZoom.disable();

        map.zoomControl.setPosition('bottomright');

        function getDirections(coords) {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(loc => {
                    window.open(
                        `https://maps.google.com/?saddr=${[loc.coords.latitude,loc.coords.longitude]}&daddr=${coords}`,
                        'Google maps'
                    );
                });

            } else { 
                alert("Geolocation is not supported by this browser.");
            }
        }
        
        stations.forEach(area => {
            var selectAreaEl = document.getElementById('select-area');
            var option = document.createElement('option');
            option.val = area.coords;
            option.innerHTML = area.city;
            selectAreaEl.appendChild(option);
            area.stations.forEach(station => {
                L.marker(station.coords).bindPopup(
                    `<div>
                        <a href="utlansteder.html#${station.city}"><b>${station.name}</b></a>
                        <button onclick="getDirections([${station.coords}])">Get direction</button>
                    </div>`
                ).addTo(map);
            });
        });
        
        var area = document.getElementById("select-area");
        area.onchange = ()=> {
            var val = area.options[area.selectedIndex].val;
            if(area.value == "all"){
                map.setView([60.4, 8.4], 7);
            } else {
                map.setView(val, 11);
            }
        };
    </script>
</body>
</html>